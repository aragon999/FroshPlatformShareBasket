{% sw_extends '@storefront/storefront/page/account/_page.html.twig' %}

{% block page_account_main_content %}
    <div class="container mt-5">
        <h1 class="mb-4">{{ "frosh-share-basket.savedBasket"|trans }}</h1>

        {% block page_account_saved_basket_content %}
            {% if froshSavedBaskets|length == 0 %}
                <p class="alert alert-info">{{ "frosh-share-basket.NoSavedBasket"|trans }}</p>
            {% else %}
                {% for basket in froshSavedBaskets %}
                    <h2>{{ "frosh-share-basket.basketId"|trans }} {{ basket.basketId }}</h2>
                    <a href="{{ path('frontend.frosh.share-basket.load', { basketId: basket.basketId }) }}" class="btn btn-primary btn-sm">{{ "frosh-share-basket.restoreBasket"|trans }}</a>
                    <a href="{{ path('frontend.account.frosh.share-basket.delete', { id: basket.id }) }}" class="btn btn-danger btn-sm">{{ "frosh-share-basket.removeBasket"|trans }}</a>
                    <table class="table table-bordered mt-3">
                        <thead class="thead-light">
                            <tr>
                                <th scope="col">{{ "frosh-share-basket.product"|trans }}</th>
                                <th scope="col">{{ "frosh-share-basket.productNumber"|trans }}</th>
                                <th scope="col">{{ "frosh-share-basket.productQuantity"|trans }}</th>
                                <th scope="col">{{ "frosh-share-basket.productPrice"|trans }}</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for lineItem in basket.lineItems %}
                                <tr class="align-middle">
                                    <td>
                                        <img class="w-25" src="{{ lineItem.product.cover.media.url }}" alt="{{ lineItem.product.translated.name }}" title="{{ lineItem.product.translated.name }}" />
                                        {{ lineItem.product.translated.name }}
                                    </td>
                                    <td>{{ lineItem.product.productNumber }}</td>
                                    <td>{{ lineItem.quantity }}</td>
                                    <td>{{ lineItem.product.price.first().gross|currency }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% endfor %}
            {% endif %}
        {% endblock %}
    </div>
{% endblock %}
